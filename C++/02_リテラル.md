02 リテラル
==========

## 1. リテラルの概要

* 定数：プログラム実行中に、その値が変化しないデータ

* リテラル：定数を表現する中心となるもの

  * 整数リテラル

  * 浮動小数点リテラル

  * 文字リテラル

  * 文字列リテラル

  * 真理値リテラル



## 2. 整数リテラル

| 整数定数種類    | 説明                                                                       | 例         |
| --------------- | -------------------------------------------------------------------------- | ---------- |
| 8進数           | 0で始まり、0~7の数字で構成される                                           | `023`      |
| 10進数          | 0以外の数字で始まり、0~9の数字で構成される                                 | `1234`     |
| 16進数          | `0x`または`0X`で始まる、0~9、A~F(a~f)で構成される                          | `0x1a`     |
| unsigned型      | 文字`u`または`U`を後ろにつける                                             | `12800U`   |
| long型          | 文字`1`または`L`を後ろにつける                                             | `0L`       |
| unsigned long型 | 文字`u1`または`UL`を後ろにつける。`u`,`U`と`l`,`L`の組み合わせ、順序は自由 | `987654UL` |

```cpp
int idt;
idt = 100;
idt = 0x100;
```



## 3. 浮動小数点

| 区別              | 説明                           | 例        |
| ----------------- | ------------------------------ | --------- |
| 小数点形式        | ピリオドを使って表現する       | `12.345`  |
| 指数形式          | `e`または`E`を使って表現する   | `3.456E2` |
| float型定数       | 文字`f`または`F`を後ろに付ける | `12.34F`  |
| long double型定数 | 文字`l`または`L`を後ろに付ける | `100.23L` |

```cpp
double ddt;
ddt = 12.345;
ddt = 3.456E2;
```



## 4. 真理値リテラル

| 区別   | 説明                                  | 例     |
| ------ | ------------------------------------- | ------ |
| 真理値 | `true`または`false`で真理値を表現する | `true` |

* bool型のとりうる値を表現

* bool値は演算時には`0/1`の値に評価される

  * `true`->整数(1になる)

  * `false`->整数(0になる)

  * 整数->`bool`(0は`false`、0以外の値は`true`)

```cpp
bool b;
b = true;
if (b == true)
```



## 5. 文字リテラル

* 該当する文字を、1重引用符(`''`)で囲むことで表現する

  * 通常文字：`'文字'`

  * ワイド文字：`L'文字'`

* 文字列リテラルは、char型となる

* ワイド文字の値は処理系定義

```cpp
char ch;
ch = 'A';
ch = 65;

wchar_t wd;
wd = L'漢';
```



## 6. 文字列リテラル

* 該当する文字列を二重引用符(`""`)で囲むことで表現

  * 通常文字：`"文字列"`

  * ワイド文字：`L"文字列"`

* 文字列リテラルの中には、エスケープ文字も使うことができる

```cpp
"ABCDE"
"This is string."
"これは文字列リテラルです。"
```

* 先頭に`'L'`をつけると「ワイド文字列リテラル」になる

```cpp
wchar_t ss[10] = L"wide文字列です。";
```

* 隣接する文字列リテラルは連結され、一つの文字列とみなされる

```cpp
// sは"AAA123BBB"となる
char s[] = "AAA" "123" "BBB";
```



## 7. エスケープ文字

* 通常の方法で表現できない文字リテラルを表現

| 文字   | コード | 記号       | 機能                  |
| ------ | ------ | ---------- | --------------------- |
| `\a`   | `07`   | `BEL`      | 警告文字              |
| `\b`   | `08`   | `BS`       | 後退文字              |
| `\f`   | `0C`   | `FF`       | 改ページ文字          |
| `\n`   | `0A`   | `NL`(`LF`) | 改行文字              |
| `\r`   | `0D`   | `CR`       | 復帰文字              |
| `\t`   | `09`   | `HT`       | 水平タブ              |
| `\v`   | `0B`   | `VT`       | 垂直タブ              |
| `\\`   | `5C`   |            | \自身                 |
| `\'`   | `2C`   |            | '(文字列リテラル対策) |
| `\"`   | `22`   |            | "(文字列リテラル対策) |
| `\?`   | `3F`   |            | ?(三組表示対策)       |
| `\ooo` |        |            | 8進数字               |
| `\xhh` |        |            | 16進数字              |

* 8進数表現、16進数表現は、それぞれの進数で表せない表現が出た場合に解釈を終える

* 解釈された値が文字コードの範囲内に収まっていない場合、その動作は未定義

```cpp
char ch;
string ss;
ch = '\n';
ss = "abc\tdef\n"
```



| 版  | 年月日     |
| --- | ---------- |
| 1st | 2020/08/10 |
